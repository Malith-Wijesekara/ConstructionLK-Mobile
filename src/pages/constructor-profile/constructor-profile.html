<!--
  Generated template for the ConstructorProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton color="secondary">
    <ion-title>
      Service Provider
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="pageBg">
  <ion-segment [(ngModel)]="ConstructorMenu" color="primary">
    <ion-segment-button value="profile">
      <ion-icon md="md-contact" name="contact"></ion-icon>
    </ion-segment-button>
    <ion-segment-button (click)=" getRequests()" value="home">
      <ion-icon name="home"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="services">
      <ion-icon md="md-hammer" name="hammer"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="settings" color="secondary">
      <ion-icon name="settings"></ion-icon>
    </ion-segment-button>
  </ion-segment>
  <!--_________________Profile tab_____________-->
  <div [ngSwitch]="ConstructorMenu">
    <ion-list *ngSwitchCase="'profile'">
      <div class="profDiv" *ngIf="userData">
        <img class="Style_img" src="../assets/img/profile.jpg">
        <p style="color:rgb(149, 230, 56); font-size:17pt">{{userData.Username}}</p>
        <p style="color:rgb(245, 245, 245); font-size:20pt">{{userData.FirstName}} {{userData.LastName}}</p>
        <p style="color:rgb(120, 143, 92); font-size:17pt">{{userData.CompanyName}}</p>
        <p style="color:rgb(120, 143, 92); font-size:17pt">{{userData.CompanyRegNo}}</p>
        <p style="color:rgb(52, 216, 120); font-size:18pt">{{userData.Address}}</p>
        <p style="color:rgb(232, 232, 241); font-size:18pt">{{userData.Telephone}}</p>
        <p style="color:rgb(52, 216, 120); font-size:18pt">{{userData.Bio}}</p>
        <div id="main-wrap">
          <div id="sidebar" style="color:rgb(8, 7, 7); font-size:10pt;">
            <h4>Freelancer</h4>
          </div>
          <div id="content-wrap">
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
          </div>
        </div>

      </div>
    </ion-list>



    <!--_________________Home tab_____________-->
    <ion-list *ngSwitchCase="'home'">
      <ion-item>
          <div *ngIf = "repos">
              <ion-list>
              <ion-item *ngFor = "let res of repos">
                <ion-avatar item-start>
                  <img src= "{{ res.owner.avatar_url }}">
                </ion-avatar>
                <h2>{{ res.name }}</h2>
                <p><ion-badge item-right>{{ res.full_name }}</ion-badge></p>
                <p><ion-badge item-right>{{ res.name }}</ion-badge></p>
                <ion-badge item-right><button ion-button (click) =  "moreSearchData(res.id)">More</button></ion-badge>
              </ion-item>
            </ion-list>
            </div>
      </ion-item>
    </ion-list>

    <!--_________________Sevices tab_____________-->
    <ion-list *ngSwitchCase="'services'">
      <ion-card>
        <ion-list>
          <ion-item class="styleStatus">
            <ion-label>Status</ion-label>
            <ion-toggle class="toggle" [(ngModel)]="status"></ion-toggle>
          </ion-item>
        </ion-list>
      </ion-card>


      <ion-card>

        <ion-card-content>
          <ion-card-title>
            My services
          </ion-card-title>
          <p>
            The most popular industrial group ever, and largely responsible for bringing the music to a mass audience.
          </p>
          <button ion-button icon-start (click)="addService()">
            <ion-icon name="add-circle"></ion-icon>
            new service
          </button>
        </ion-card-content>
      </ion-card>

    </ion-list>

    <!--_________________Settings tab_____________-->
    <ion-list *ngSwitchCase="'settings'">

      <form *ngIf="form" [formGroup]="form" (ngSubmit)="postUpadtedProfile()">
        <input type="file" #fileInput style="visibility: hidden; height: 0px" name="files[]" (change)="processWebImage($event)" />
        <div class="profile-image-wrapper" (click)="getPicture()">
          <div class="profile-image-placeholder" *ngIf="!this.form.controls.profilePic.value">
            <ion-icon name="add"></ion-icon>
            <div>
              choose profile picture
            </div>
          </div>
          <div class="profile-image" [style.backgroundImage]="getProfileImageStyle()" *ngIf="this.form.controls.profilePic.value"></div>
        </div>

        <ion-card>

          <ion-card-content>

            <ion-list>
              <ion-item>
                <ion-label floating>First Name</ion-label>
                <ion-input formControlName="FirstName" type="text" value='{{userData.FirstName}}'>{{userData.FirstName}}</ion-input>
              </ion-item>
              <ion-item>
                <ion-label floating>Last Name</ion-label>
                <ion-input formControlName="LastName" type="text" value='{{userData.LastName}}'></ion-input>
              </ion-item>
              <ion-item>
                <ion-label floating>Mailing Address</ion-label>
                <ion-input formControlName="MailingAddress" type="text" value='{{userData.MailingAddress}}'></ion-input>
              </ion-item>
              <ion-item >                     
                  <ion-label floating>Mobile Number</ion-label>
                  <ion-input formControlName="Telephone" value='{{userData.Telephone}}' type="number"></ion-input>
                </ion-item>
              <ion-item>
                <ion-label floating>Short Bio</ion-label>
                <ion-textarea formControlName="Bio" type="text" value='{{userData.Bio}}'></ion-textarea>
              </ion-item>
              
              <ion-item>
                <ion-label floating>Current Address</ion-label>
                <ion-input formControlName="BasedCity" value='{{userData.BasedCity}}' type="text"></ion-input>
              </ion-item>
             
              <ion-item>
                <button ion-button color="secondary"  block type="submit">Save</button>
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>
      </form>



    </ion-list>
  </div>

</ion-content>